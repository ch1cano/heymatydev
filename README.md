
**Heydaddy Backend** 

[https://documenter.getpostman.com/view/10646201/TzJrDKSw](https://documenter.getpostman.com/view/10646201/TzJrDKSw)
 
[Дизайн ](https://www.figma.com/file/ZJqzwHtg3tC4yeUG7aUIjj/Heydaddy?node-id=0%3A1) 
 
Сервис: аналог onlyfans, patreon. В базе присутствует список девушек, которые постят определенный контент. На девушку можно подписаться (платно). Подписка обязывает девушку давать определенный контент лично пользователю (в чате, который на нее подписался. Объем описывается при установке цены за тариф. Оплата и вывод денег происходят через BTC. 
 

*   **Регистрация и авторизация через email и Google**
*   **Роли пользователей** 
User, Girl, Admin. Пользователь, Девушка (Модель), Админ
*   **Профили пользователей** (проверить, чтобы отдавались все нужные поля на фронтенд).
*   **Личные сообщения** через socket.io / mongodb. Сообщения отправляются и получаются, хранятся в базе данных. К личным сообщениям можно приложить фото и видео в разных форматах.
*   **Создание постов** девушками. Релизован CRUD для постов, с возможностью получить все посты по определенному ID пользователя. К постам можно приложить файл (фото и видео). Все посты по умолчнию - приватные. Девушка может сделать пост - публичным.
*   **Избранное.** Модель можно добавить в избранное, получить список всех моделей в изобранном, удалить модель из избранного. Список избранного можно посмотреть. 
*   **Создание тарифа** девушкой. Девушка создает тариф, указывает стоимость в день и добавляет описание тарифа.
*   **Подписка на модель.** Пользователь может подписаться на определенную девушку. Пользователь может посмотреть список всех девушек, на которых он подписался. Девушка так же может посмотреть список пользователей, которые на нее подписаны.
*   **Модерация аккаунта девушки.** Девушка должна приложить фотографию после регистрации. Администратор подтверждает или отклоняет аккаунт.
*   **Уведомления пользователей.** 
 
Девушка получает уведомления о: 
- о том, что аккаунт на модерации 
- аккаунт был подтвержден 
- было получено новое сообщение 
- появился новый подписчик 
 
Пользователь получает уведомления: 
- У модели, на которую подписан пользователь появился новый пост 
- Новое сообщение от модели 

*   **Онлайн статус.** Счетчик пользователей, которые онлайн в данный момент.
*   **Подписка на модель**
*   **Ввод и вывод через биткоин** (реализовать через API) [https://developers.coinbase.com/](https://developers.coinbase.com/)  
Пользователь должен иметь возможность: пополнить баланс через BTC, вывести деньги, просматривать баланс, видеть историю транзакций (пополнение, вывод), просматривать свой баланс, видеть историю транзакций (историю подписок). Модель должна видеть свой баланс, аналогично - историю транзакций
*   **Поиск моделей по определенным параметрам (возраст, пол, тип услуги, город, регион, страна)**
*   **Заполнение личного профиля пользователями:** выбор услуг, заполнения имени, возраста, языка, описания, страны, города **(почти готово - Mуха)** 
*   **Отображение** списка пользователей для админа
*   **Несколько оружений** (разработка, продакшн)
*   **Пользовательская система электронной почты / пароля** с базовой безопасностью и защитой от bruteforce атак.
*   **Сжатые ответы**
*   **Защищенные заголовки HTTP.**
*   **CORS-ready.**
*   **Cache-ready (Redis).**
*   **HTTP-логгер в developement режиме**
*   **i18n-ready** (для отправки писем на нескольких языках) 
*   **Pagination ready.**
*   **Журнал доступа по IP**, браузеру и местоположению страны (для страны он ищет заголовок cf-ipcountry, который CloudFlare создает при защите сайта).
